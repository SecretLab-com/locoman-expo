{
  "query": "\n-- Add new columns to messages table\nALTER TABLE messages \nADD COLUMN IF NOT EXISTS attachmentName VARCHAR(255),\nADD COLUMN IF NOT EXISTS attachmentSize INT,\nADD COLUMN IF NOT EXISTS attachmentMimeType VARCHAR(100);\n\n-- Create message_reactions table\nCREATE TABLE IF NOT EXISTS message_reactions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  messageId INT NOT NULL,\n  userId INT NOT NULL,\n  reaction VARCHAR(32) NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_message_reactions_message (messageId),\n  INDEX idx_message_reactions_user (userId)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2QzfGuqHiBgZJ1M.d648e97afdf6 --database Zh3EDv2vowKBy5kswkzuFV --execute \n-- Add new columns to messages table\nALTER TABLE messages \nADD COLUMN IF NOT EXISTS attachmentName VARCHAR(255),\nADD COLUMN IF NOT EXISTS attachmentSize INT,\nADD COLUMN IF NOT EXISTS attachmentMimeType VARCHAR(100);\n\n-- Create message_reactions table\nCREATE TABLE IF NOT EXISTS message_reactions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  messageId INT NOT NULL,\n  userId INT NOT NULL,\n  reaction VARCHAR(32) NOT NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_message_reactions_message (messageId),\n  INDEX idx_message_reactions_user (userId)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 3048
}